<section class="video-section">
  <% @videos_paginated.each do |video| %>
    <article class="video-container">
        <div href="#" class="thumbnail" data-duration= <%= video.length %> >
        <%= active_link_to watch_path(v: video.youtube_id),
                  {active: :exact} do %>
              <%= image_tag("http://img.youtube.com/vi/#{video.youtube_id}/hqdefault.jpg", class: "thumbnail-image") %>
        </div>
        <% end %>
        <div class="video-bottom-section">
          <div class="video-details">
              <div class="video-primary">
                <div class="video-dancers">
                  <%= "#{video.leader.name} & #{video.follower.name}" if video.leader.present? && video.follower.present? %>
                </div>
                  <div class="video-title">
                      <%= video.title if video.leader.blank? || video.follower.blank? %>
                  <div class="video-song-artist">
                    <%= "#{video.song.title.to_s.titleize}  - #{video.song.artist.to_s.titleize}" if video.song.present? %>
                    <%= video.try(:spotify_track_name).to_s.titleize + ' - ' + video.try(:spotify_artist_name).to_s.titleize if video.song.nil? && video.spotify_track_name.present? %>
                    <%= "#{video.youtube_song.to_s.titleize} - #{video.youtube_artist.to_s.titleize}" if video.song.nil? && video.spotify_track_name.nil? && video.youtube_artist.present? %>
                  </div>
                  <div class="video-song-artist">
                    <%= video.song.genre.to_s.titleize if video.song.present? %>
                  </div>
                </div>
              </div>
              <div class="video-metadata">
                <div class="video-channel">
                  <%= image_tag(video.channel.thumbnail_url, class: 'channel-icon') %>
                  <%= link_to video.channel.title.to_s, root_path(channel: video.channel.title), class: "channel-title" %>
                </div>
                <div class="video-view_count">
                  <%= "#{video.view_count} views â€¢ #{time_ago_in_words(video.upload_date)} ago" %>
              </div>
            </div>
          </div>
        </div>
    </article>
  <% end %>
</section>
