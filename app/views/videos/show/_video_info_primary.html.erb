<div class="show-video-title">
  <% if @video.leader.present? && @video.follower.present? && @video.song.present? %>
    <%= "#{@video.leader.name} & #{@video.follower.name}" %>
  <% elsif @video.leader.present? && @video.follower.present? && @video.spotify_track_name.present? %>
    <%= "#{@video.leader.name} & #{@video.follower.name}" %>
  <% elsif @video.leader.present? && @video.follower.present? && @video.youtube_song.present? %>
    <%= "#{@video.leader.name} & #{@video.follower.name}" %>
  <% else %>
    <%= truncate(@video.title, length: 85) %>
  <% end %>
</div>
<div class="show-video-song">
  <% if @video.song.present? %>
    <%= link_to root_path(song_id: @video.song_id) do %>
      <%= @video.song.title.to_s.titleize + ' - ' + @video.song.artist.to_s.titleize + ' - ' + @video.song.genre.to_s.titleize %>
      <br>
    <% end %>
  <% end %>
  <% if @video.song.nil? && @video.spotify_track_name.present? %>
    <%= link_to @video.try(:spotify_track_name).to_s.titleize + ' - ' + @video.try(:spotify_artist_name).to_s.titleize, root_path(query: @video.try(:spotify_track_name).to_s.titleize + ' - ' + @video.try(:spotify_artist_name).to_s.titleize) %>
  <% end %>
  <% if @video.song.nil? && @video.spotify_track_name.nil? && @video.youtube_artist.present? %>
    <%= link_to "#{@video.youtube_song.to_s.titleize} - #{@video.youtube_artist.to_s.titleize}", root_path(query: "#{@video.youtube_song.to_s.titleize} - #{@video.youtube_artist.to_s.titleize}")  %>
  <% end %>
</div>
<div class="show-video-event">
  <%= link_to @video.event.title.titleize, root_path(event_id: @video.event.id) if @video.event.present? %>
</div>
<div class="show-video-channel">
  <%= link_to image_tag(@video.channel.thumbnail_url, class: 'channel-icon'), root_path(channel: @video.channel.title) if @video.channel.thumbnail_url.present? %>
  <%= link_to truncate(@video.channel.title, length: 45, omission: ''), root_path(channel: @video.channel.title), class: "channel-title" if @video.channel.title.present? %>
</div>
<div class="show-video-metadata">
  <% if @video.upload_date.present? && @video.view_count.present? %>
    <%= "#{@video.upload_date.strftime('%B %Y')} • #{number_to_human(@video.view_count, :format => '%n%u', :precision => 2, :units => { :thousand => 'K', :million => 'M', :billion => 'B' })} views • #{@video.like_count} Likes" %>
  <% end %>
</div>
